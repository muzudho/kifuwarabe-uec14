<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　連（れん）って何だっけ？」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　コンピューター囲碁用語だが、個人開発者の間で伝えられるのみで<br />
べつに　用語の統一や　標準化を図る団体はない」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　ディープラーニングの時代に　フロムスクラッチの記事なんて　流行らないのよ」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-2.png" alt="" /><br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　&uarr;　例えば　上図のとき」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-3.png" alt="" /><br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　　石は　タテ、ヨコ　につながっていて　ナナメ　にはつながらない、<br />
と考えたとき、１つの　かたまり　になっているものを　<strong>連</strong>　（れん）　と呼ぶぜ」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　英語では　String とか Group と呼ぶけど、<br />
正式名称を決める団体は存在しないので　正式名称は存在しないわよ」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　一番よく真似されたソフトのソースが　事実上の標準になるやつだよな。<br />
デファクトか、デジュールか、で言うと、デファクトの方」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　連にも　いくつか種類があるんだろ？」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-4.png" alt="" /><br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　&uarr;　例えば　上図に　連　が何個あるかと言うと」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-5.png" alt="" /> <br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><br />
<img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　&uarr;　３つだぜ。　黒石の連と、白石の連と、空点の連だぜ」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　盤上は　石　と　空点　で埋め尽くされているとも見えるし、<br />
連　で埋め尽くされているとも見えるな」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　もし　メモリに莫大な余裕があるのなら、<br />
<strong>碁盤を持たずに、連のデータベースを持つ</strong>　という考え方もあるわね」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-1.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　&uarr;　初期局面は　<strong>１９&times;１９の空点の連</strong>　とだけ覚えればいいのよ」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-6.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /></a><br />
「　&uarr;　だから　これを　<strong>第１の連</strong>　とでも覚えておけばいいでしょう」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　矩形（Rectangle）で覚えておけば　計算は楽そうに見えるな&hellip;&hellip;」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-7.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　&uarr;　初手　J8」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　第１の連に　穴が開いたぜ」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-8.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　&uarr;　J8　を　第２の連　として、<br />
第１の連から　第２の連　を引いたところを　１手目の図　にすればいいのよ」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-9.png" alt="" /> <br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　&uarr;　じゃあ　第３の連　って　こんな形してんのかだぜ？」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /></a><br />
「　データベースに　どう格納するんだぜ？<br />
第３の連は　『第１の連　ー　第２の連』　とでも表現するのかだぜ？」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　そうなるんじゃないの？」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-11.png" alt="" /> <br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　&uarr;　じゃあ　こういうケースはどうだぜ？」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-12.png" alt="" /> <br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
<br />
「　&uarr;　黒石に囲まれた　第５の連　は、黒石の囲いの外側の　第４の連　とは別物だぜ。<br />
第４の連を　引き算で　どう表す？」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-13.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　&uarr;　第６の、　連とは違う何か　を新たに定義すればいいのよ。<br />
そうすれば<br />
<br />
　　第４　＝　第１　ー　第６<br />
<br />
が成り立つわよ」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　連とは違う何かを　定義してくれだぜ」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　じゃあ　吉川竹四郎・著の『コンピュータ囲碁GREAT』 から拝借して<br />
<strong>ファミリー（Family）</strong>　と呼ぶことにしましょう」<br />
<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-15.png" alt="" /><br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　&uarr;　６　や　７　が　ファミリー？」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　そうよ」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　ファミリーを言語化してくれだぜ」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-17.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　&uarr;　ある空点の連Ａがあり、<br />
それを　タテ・ヨコの抜け穴なく囲んでいるのが　いくつかの単一色の石の連Ｂであるとき、<br />
そのＡとＢの両方を持つ　かたまり　よ。<br />
ただし、そのＢに囲まれたＡ以外の空点の連も含むわよ」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　その説明には　まぎれ　が無いかだぜ？」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-19.png" alt="" /> <br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　&uarr;　上図の石は　内海を囲んでいるとも言えるし、<br />
外海を囲んでいるとも　言えるのでは？」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　お父んの考えは正しい」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　その両方が　ファミリー　なのだから　まぎれはないわよ」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-20.png" alt="" /> <br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　&uarr;　この盤上には　どこにも　ファミリーが無いぜ！」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　概念を使いこなしたな」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　しかし、盤上をスキャンして　ファミリーか、ファミリーでないか調べるの<br />
ループ回し過ぎじゃないかだぜ？」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　初期局面だけ　スキャンが必要だけど、<br />
石を打つときは　差分更新　だけでできるんじゃないの？　知らんけど」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　盤面スキャンが要るなら　連のデータベースのありがたみが　薄まるしな。<br />
連のデータベースだけで　できるのだろう」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　ほんとか。　ソースが置いてあるはずの<br />
引用先の　インターネット上のサイトは消えていったし<br />
自分の頭で　その実装を考えるか」<br />
<br />

<h2>連データベース　シミュレーション</h2>
<h3>初期局面</h3>
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-22.png" alt="" /> <br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　&uarr;　第１の連」<br />

<h3>１手目</h3>
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-24.png" alt="" /> <br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　&uarr;　J2」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　このとき、　第１の連　に打ち込んだから、<br />
第１の連から　第３の連　が産まれてきて、<br />
J2の黒石は　第３の連に囲まれているか、囲んでいるか、それともどちらでもないかの<br />
いずれかの可能性があるのよ」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-25.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　&uarr;　第１の連が、<br />
すでに　白石と隣接していると既知なら　第１の連とはファミリではないし、<br />
白石とは隣接していないと既知なら　第１の連とはファミリだと　分かるのでは？」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　なるほど」<br />

<h3>２手目</h3>
<img src="//grayscale2.dou-jin.com/File/202209__go__15-26.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　E5」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-27.png" alt="" /> <br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　確かに一瞬だな」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　全てのケースで　うまく行くか　調べなさい」<br />

<h3>３手目</h3>
<img src="//grayscale2.dou-jin.com/File/202209__go__15-28.png" alt="" /> <br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　H1」<br />
<br />
<img src="//grayscale2.dou-jin.com/File/202209__go__15-29.png" alt="" /> <br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　&uarr;　がんばれば　いけるのでは？」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　ファミリーは　算出できるの？」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　空点の連が　２つに分かれた時に、<br />
その片方が　自分の色の石にだけ隣接していたとき、<br />
その空点の連を含めた　ファミリーが誕生するんじゃないかだぜ？」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/kifuwarabe-futsu.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748280/" alt="" /><br />
</a>「　<strong>囲んでいるかどうか</strong>　は関係なくなるのか。<br />
<strong>隣接しているやつのそのまた隣接しているやつがどうか</strong>　だけの関係になるのか」<br />
<br />
<a target="_blank" href="//grayscale2.dou-jin.com/File/ohkina-hiyoko-futsu2.png" title=""><img src="//grayscale2.dou-jin.com/Img/1641748453/" alt="" /><br />
</a>「　空点の連が　２つに分かれたときに、<br />
その両方が　自分の色の石にだけ隣接していたとき、<br />
<strong>二眼</strong>　なんじゃないの？」<br />
<br />
<img src="//grayscale2.dou-jin.com/Img/1641748205/" alt="" /><br />
「　詳しく調べて　イケるかどうか　調べたいところだな。<br />
今日はもう寝る」